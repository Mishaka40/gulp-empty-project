const only_num=/^[0-9.]+$/,tel_reg=/^[0-9+]+$/,only_num_replace=/[^0-9.]/g,tel_reg_replace=/[^0-9+]/g,password_reg=/^(?=.*[a-zA-Z])(?=.*\d).*$/,email_reg=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,email_reg_full=/^(([^<>()\[\]\\.,;:\s@"]{2,62}(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z-аА-яЯ\-0-9]+\.)+[a-zA-Z-аА-яЯ]{2,62}))$/,validationRules={email:{rules:{regex:email_reg}},emailfull:{rules:{regex:email_reg_full}},numeric:{rules:{regex:only_num}},"numeric-replace":{rules:{regexReplace:only_num_replace}},phone:{rules:{regexReplace:tel_reg_replace}},password:{rules:{regex:password_reg}},password_repeat:{rules:{password_repeat:!0}}};function formReset(e){void 0!==e.dataset.noReset||e.classList.contains("no-reset")||(e.reset(),e.querySelectorAll(".output_value").forEach(e=>e.value=""),e.querySelectorAll(".is-selected").forEach(e=>e.classList.remove("is-selected")),e.querySelectorAll(".image-preview").forEach(e=>e.remove()),e.querySelectorAll(".ql-editor").forEach(e=>e.innerHTML=""),e.querySelectorAll(".is-visible").forEach(e=>e.classList.remove("is-visible")))}function ajaxSuccess(e,t){t=t.responseJSON||t.data||t;let o=e.dataset.successPopup,r=e.querySelector('[type="submit"]'),s=e.closest(".show-hide-on-success")||e.closest("section")||e,a=s.querySelector(".show-on-success"),c=s.querySelector(".hide-on-success"),l=t.redirect_url||t.redirect||e.dataset.redirect;e.ajaxSuccess&&e.ajaxSuccess(e,t),Fancybox.close(),l?window.location.href=l:(r&&r.removeAttribute("disabled"),o&&Fancybox.show([{src:o,type:"inline",placeFocusBack:!1,trapFocus:!1,autoFocus:!1}],{dragToClose:!1}),c?fadeOut(c,300,function(){a&&fadeIn(a,300)}):a&&fadeIn(a,300),formReset(e))}function ajaxError(e,t){t=t.responseJSON||t.data||t;let o=e.querySelector('[type="submit"]'),r=e.dataset.errorPopup;if(e.ajaxError&&e.ajaxError(e,t),Fancybox.close(),o&&o.removeAttribute("disabled"),"object"==typeof t&&t.errors){let o=!1;Object.keys(t.errors).forEach(r=>{let s=e.querySelector(`[name="${r}"]`);s&&s.setError&&(s.setError(t.errors[r]),o||(document.scrollTo&&document.scrollTo(s,700),o=!0))})}r&&Fancybox.show([{src:r,type:"inline",placeFocusBack:!1,trapFocus:!1,autoFocus:!1}],{dragToClose:!1})}function onSubmit(e,t=!1){let o=t||new FormData(e),r=e.getAttribute("action")||"/wp-admin/admin-ajax.php",s=e.getAttribute("method")||"post",a=e.querySelector('[type="submit"]'),c=e.querySelectorAll(".ql-editor"),l=new XMLHttpRequest;c.length&&c.forEach(function(e){let t=e.closest("[data-name]");e.querySelectorAll(".ql-emojiblot").forEach(function(e){e.outerHTML=e.textContent});let r=e.innerHTML;t&&(t=t.dataset.name,o.append(t,r))}),a&&a.setAttribute("disabled","disabled"),l.open(s,r),l.send(o),l.onload=function(){let t=l.responseText;try{t=JSON.parse(t)}catch(e){}200===l.status?ajaxSuccess(e,t):ajaxError(e,t)}}let sectionsJS={};function sectionJS(e="",t){e&&"function"==typeof t&&(sectionsJS[e]=t)}function blocks(){let e={".calc":function(e){e.forEach(function(e){})},...sectionsJS};Object.keys(e).forEach(t=>{document.querySelector(t)&&e[t](document.querySelectorAll(t))})}document.addEventListener("DOMContentLoaded",function(){blocks(),"undefined"!=typeof Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1})});